private fun registerUser(username: String, password: String, callback: (Boolean) -> Unit) {
    val client = OkHttpClient()
    val formBody = FormBody.Builder()
        .add("username", username)
        .add("password", password)
        .build()
    val request = Request.Builder()
        .url("http://192.168.0.119:5000/register")
        .post(formBody)
        .build()

    client.newCall(request).enqueue(object : Callback {
        override fun onFailure(call: Call, e: IOException) {
            Log.e("Register", "Failed to register", e)
            android.os.Handler(android.os.Looper.getMainLooper()).post {
                callback(false)
            }
        }

        override fun onResponse(call: Call, response: Response) {
            Log.d("Register", "Register response: ${response.body?.string()}")
            android.os.Handler(android.os.Looper.getMainLooper()).post {
                callback(response.isSuccessful)
            }
        }
    })
}
